<!DOCTYPE html>
<html>
<head>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Geist+Mono:wght@100..900&family=Geist:wght@100..900&display=swap" rel="stylesheet">

<script>
MathJax = {
  loader: {load: ['[tex]/physics']},

  tex: {
    inlineMath: {'[+]': [['$', '$']]},
    tags: 'ams',
    packages: {'[+]': ['physics']},
  },
  svg: {
    fontCache: 'global'
  }
};
</script> 
<script defer src="https://cdn.jsdelivr.net/npm/mathjax@4/tex-mml-chtml.js"></script>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/styles/sunburst.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/highlight.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/languages/julia.min.js"></script>
<script>hljs.highlightAll();</script>
<style>
    body {
    background-color: rgb(15, 15, 15);
    color: rgb(240, 240, 240);
    font-size: 12pt;
    font-family: "Geist", sans-serif;
    margin: 0;
    display: flex;
}


.toc {
    flex: 1;
    background-color: rgb(30, 30, 30);
}

.toccontainer {
    height: 100vh;
    position: sticky;
    top: 0;
    overflow: auto;
    scrollbar-color: rgb(160, 160, 160) rgb(30, 30, 30);
}

.toggler {
    width: 8px;
    color: rgb(50, 50, 50);
    background-color: rgb(50, 50, 50);
}

.toggler:hover {
    background-color: rgb(80, 80, 80);
}

.main {
    flex: 4;
    margin-top: 2em;
    scrollbar-color: rgb(160, 160, 160) rgb(30, 30, 30);
}

a {
    text-decoration: none;
    color: rgb(210, 210, 210);
}

a:hover {
    color: rgb(214, 0, 28);
}

.content {
    max-width: 40em;
    min-width: 20em;
    margin: auto;
}


p {
    padding: 0px 8px;
}



pre div button {
    display: block;
    background-color: rgb(70, 70, 70);
    border: none;
    font-size: 1em;
    color: rgb(210, 210, 210);
}

pre div button:hover {
    background-color: rgb(214, 0, 28);
    color: white;
}

pre div button:active {
    /* border: 1px solid rgb(75, 210, 210); */
    background-color: white;
    color: black;
}

pre div {
    width: 100%;
    display: flex;
    justify-content: space-between;
    border-top: 1px solid rgb(110, 110, 110);
}

pre p {
    /* font-size: 0.6em; */
    margin: 0px;
    color: rgb(140, 140, 140);
}

pre {
    /* border-radius: 4px; */
    border: 1px solid rgb(120, 120, 120);
    margin-left: 8px;
}

pre code.hljs {
    padding: 0.4em;
    font-size: 12pt;
    font-family: "Geist Mono", monospace;
    scrollbar-color: rgb(160, 160, 160) rgb(30, 30, 30);
    background-color: rgb(15,15,15);
}

.page {
    font-size: 1.6em;
    font-family: "Geist Mono", monospace;
    padding: 2px 8px;
    margin-top: 3em;
}

.page:hover {
    color: rgb(214, 0, 28);
}

h2,
h3 {
    font-size: 1em;
    font-weight: normal;
    padding: 2px 8px;
    margin-top: 3em;
}

h2 {
    background-color: rgb(50, 50, 50);
}

h3 {
    border-bottom: 1px solid rgb(120, 120, 120);
}

.toc a,
.toc details summary {
    padding: 2px 6px;
    font-family: "Geist", sans-serif;
    font-size: 20px;
    color: rgb(210, 210, 210);
    border-bottom: 2px solid rgb(60, 60, 60);
}
.toc details a {
    padding-left: 20px;
}

.toc a {
    display: block;
}

.toc a:hover,
.toc details summary:hover {
    color: rgb(240, 240, 240);
    background-color: rgb(214, 0, 24);
    border-bottom: 2px solid rgb(214, 0, 28);
}

.toc a:active,
.toc details summary:active {
    /* border: 2px dotted rgb(200, 200, 200); */
    background-color: white;
    color: black;
}

.pkgname {
    background-color: rgb(84, 84, 84);
    padding: 10px 8px;
}

td,
th {
    margin: 0px;
    padding: 8px;
    border: 1px solid rgb(120, 120, 120);
}

table {
    margin: auto;
    border: 1px solid rgb(120, 120, 120);
    border-collapse: collapse;
    /* background-color: rgb(30,30,30); */
}
</style>
<script>
async function copyCode(block) {
  let code = block.querySelector("code");
  let text = code.innerText;

  await navigator.clipboard.writeText(text);
}

function clip() {
    let blocks = document.querySelectorAll("pre:has(code)");
    blocks.forEach((block) => {
      let button = block.querySelector("div button");
          if (button){
              button.addEventListener("click", async () => {
            await copyCode(block);
          });

              }
    });
}
function toggle_sidebar() {
  var x = document.getElementById("sidebar");
  if (x.style.display === "none") {
    x.style.display = "block";
  } else {
    x.style.display = "none";
  }
}
</script>
</head>
    <body onload="clip();">
    <aside id="sidebar" class="toc">
    <div class="toccontainer">
    <image style="margin: 10px 20px;"
    width="120px" src="./assets/logo.png">
    </image>
    <div class="pkgname">TestToDoc</div>
    
<a href="#cover.jl">cover</a>
<a href="#motivation.jl">motivation</a>
<a href="#quickstart.jl">quickstart</a>
<details>
                <summary>design</summary>
                
<a href="#design-theme.jl">theme</a>
<a href="#design-dependencies.jl">dependencies</a>
<a href="#example.md">example</a>
</details>
    </div>
    </aside>
    <div class="toggler" onclick="toggle_sidebar();">-</div>
    <div class="main">
    <div class="content">
    <div style="
display:flex;
align-items: center;
justify-content: center;
padding-bottom: 4em;
border-bottom: 4px solid white;
">
<h1 style="font-size: 2.2em"> From Tests to Documentation </h1>
</div>
<details class="title" style="margin: 1em 0em"><summary class="page"><span id="motivation.jl">Motivation</span></summary><pre><code class="language-julia">md"""
`TestToDoc.jl` generates documentation from tests without running them.
It helps you build userguides that is easy to read and navigate
from tests without invading the test system.

The main use case is to build a practical e-book (for computational physical
science) from a set of self-contained tests. Compared to a traditional textbook,
the advantages are

| | e-book | paperback |
|:--|:---|:---|
| code | every pages is self-contained and runnable | theory to practice is almost infeasible |
| distribution | all content reachable from search engines | only title & abstract are accessible |
| growth | continuously updatable | immutable after publication |

## Compared to Alternatives

There are few other technologies that can do similar things, but they don't
really fit the bill for our purposes.


| | Pluto | Documenter| TestToDoc |
|:--|:-----:|:---------:|:-----------:|
| self-contained tutorial |  $\checkmark$    | $\times$|  $\checkmark$ |
| navigatable documentation | $\times$ | $\checkmark$ | $\checkmark$ |
| avoid constraining tests | $\times$ | $\times$ | $\checkmark$ |
"""</code><div><p></p><button>copy</button></div></pre></details>
<p><code>TestToDoc.jl</code> generates documentation from tests without running them.
It helps you build userguides that is easy to read and navigate
from tests without invading the test system.</p>
<p>The main use case is to build a practical e-book (for computational physical
science) from a set of self-contained tests. Compared to a traditional textbook,
the advantages are</p>
<table><thead><tr><th align="left"></th><th align="left">e-book</th><th align="left">paperback</th></tr></thead><tbody><tr><td align="left">code</td><td align="left">every pages is self-contained and runnable</td><td align="left">theory to practice is almost infeasible</td></tr><tr><td align="left">distribution</td><td align="left">all content reachable from search engines</td><td align="left">only title &amp; abstract are accessible</td></tr><tr><td align="left">growth</td><td align="left">continuously updatable</td><td align="left">immutable after publication</td></tr></tbody></table>
<h2 id="compared-to-alternatives"><a href="#compared-to-alternatives" class="anchor"></a>Compared to Alternatives</h2>
<p>There are few other technologies that can do similar things, but they don't
really fit the bill for our purposes.</p>
<table><thead><tr><th align="left"></th><th align="center">Pluto</th><th align="center">Documenter</th><th align="center">TestToDoc</th></tr></thead><tbody><tr><td align="left">self-contained tutorial</td><td align="center"><span class="math tex">\(\checkmark\)</span></td><td align="center"><span class="math tex">\(\times\)</span></td><td align="center"><span class="math tex">\(\checkmark\)</span></td></tr><tr><td align="left">navigatable documentation</td><td align="center"><span class="math tex">\(\times\)</span></td><td align="center"><span class="math tex">\(\checkmark\)</span></td><td align="center"><span class="math tex">\(\checkmark\)</span></td></tr><tr><td align="left">avoid constraining tests</td><td align="center"><span class="math tex">\(\times\)</span></td><td align="center"><span class="math tex">\(\times\)</span></td><td align="center"><span class="math tex">\(\checkmark\)</span></td></tr></tbody></table><details class="title" style="margin: 1em 0em"><summary class="page"><span id="quickstart.jl">Quickstart</span></summary><pre><code class="language-julia">md"""

## Usage

Make a list of tests that are to be converted to userguides.
Use `watch` to live preview the files.
"""
using DocToTests

filepaths = [
    "test/quickstart.jl",
    "test/design/theme.jl"
]

watch!(filepaths, "./test")

md"""
The order in which these files are passed
determines the order they show up the this page.

## Syntax

You can write markdown blocks
```julia
md"
text/math goes here
"
```
It  will just parsed with `CommonMark.jl` and converted to html.
Julia code will be converted to code blocks.

Math is supported by `KaTeX`. For example

$$
\begin{equation}\label{eqn:schrodinger}
i \hbar \frac{d}{dt} \Psi = H \Psi 
\end{equation}
$$

`Copy-tex` is enabled so copying it puts the tex code in your clipboard. You can also reference the equations as Eq.$\ref{eqn:schrodinger}$.

## Structure

The structure of this page will mirror the file system structure
of the tests. The tests of this package is organized as
```txt
test
├── design
│   └── theme.jl
├── quickstart.jl
└── runtests.jl
```
"""</code><div><p></p><button>copy</button></div></pre></details>
<h2 id="usage"><a href="#usage" class="anchor"></a>Usage</h2>
<p>Make a list of tests that are to be converted to userguides.
Use <code>watch</code> to live preview the files.</p>
<pre><code class="language-julia">using DocToTests

filepaths = [
    "test/quickstart.jl",
    "test/design/theme.jl"
]

watch!(filepaths, "./test")</code><div><p></p><button>copy</button></div></pre>
<p>The order in which these files are passed
determines the order they show up the this page.</p>
<h2 id="syntax"><a href="#syntax" class="anchor"></a>Syntax</h2>
<p>You can write markdown blocks</p>
<pre><code class="language-julia">md&quot;
text/math goes here
&quot;
</code></pre>
<p>It  will just parsed with <code>CommonMark.jl</code> and converted to html.
Julia code will be converted to code blocks.</p>
<p>Math is supported by <code>KaTeX</code>. For example</p>
<div class="display-math tex">\[\begin{equation}\label{eqn:schrodinger}
i \hbar \frac{d}{dt} \Psi = H \Psi 
\end{equation}\]</div>
<p><code>Copy-tex</code> is enabled so copying it puts the tex code in your clipboard. You can also reference the equations as Eq.<span class="math tex">\(\ref{eqn:schrodinger}\)</span>.</p>
<h2 id="structure"><a href="#structure" class="anchor"></a>Structure</h2>
<p>The structure of this page will mirror the file system structure
of the tests. The tests of this package is organized as</p>
<pre><code class="language-txt">test
├── design
│   └── theme.jl
├── quickstart.jl
└── runtests.jl
</code></pre>
<details class="title" style="margin: 1em 0em"><summary class="page"><span id="design-theme.jl">Design/theme</span></summary><pre><code class="language-julia">
md"""
You can customize the theme by overwriting `TestToDoc.page_css()`.
For example, 

"""

function TestToDoc.page_css()
    return """
    p {
        color: white;
    }
    """
end</code><div><p></p><button>copy</button></div></pre></details>
<p>You can customize the theme by overwriting <code>TestToDoc.page_css()</code>.
For example,</p>
<pre><code class="language-julia">function TestToDoc.page_css()
    return """
    p {
        color: white;
    }
    """
end</code><div><p></p><button>copy</button></div></pre>
<details class="title" style="margin: 1em 0em"><summary class="page"><span id="design-dependencies.jl">Design/dependencies</span></summary><pre><code class="language-julia">md"""
To make a page self-contained, tests can include other tests.
These includes will be expanded recursively and included
in the source code. Click on `Design/dependencies` to
see how it works.
"""


md"""
You can customize the theme by overwriting `TestToDoc.page_css()`.
For example, 

"""

function TestToDoc.page_css()
    return """
    p {
        color: white;
    }
    """
end</code><div><p></p><button>copy</button></div></pre></details>
<p>To make a page self-contained, tests can include other tests.
These includes will be expanded recursively and included
in the source code. Click on <code>Design/dependencies</code> to
see how it works.</p>
<pre><code class="language-julia">include("theme.jl")</code><div><p></p><button>copy</button></div></pre>
<details class="title" style="margin: 1em 0em"><summary class="page"><span id="example.md">Example</span></summary><pre><code class="language-julia">## Markdown files

Markdown files are also allowed.
Most markdown features should work
such as math

$$
\lim_{x \to 0} \frac{x}{x} = 1.
$$</code><div><p></p><button>copy</button></div></pre></details>
<h2 id="markdown-files"><a href="#markdown-files" class="anchor"></a>Markdown files</h2>
<p>Markdown files are also allowed.
Most markdown features should work
such as math</p>
<div class="display-math tex">\[\lim_{x \to 0} \frac{x}{x} = 1.\]</div>
    </div>
    </div>
</body>

</html>
    